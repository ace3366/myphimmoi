(this["webpackJsonpreact-clone"]=this["webpackJsonpreact-clone"]||[]).push([[0],[,,,function(e,a,t){e.exports={upper:"Browse_upper__1IXWz",middle:"Browse_middle__1FEtY","movie-section":"Browse_movie-section__2IMrs",og:"Browse_og__1i9-z","the-others":"Browse_the-others__2-hEA"}},function(e,a,t){e.exports={form:"SearchForm_form__3AvX9","form-input":"SearchForm_form-input__3TCFl",icon:"SearchForm_icon__3C7l9","form-action":"SearchForm_form-action__2S5cH",reset:"SearchForm_reset__xPSpn",search:"SearchForm_search__NU1qy"}},function(e,a,t){e.exports={poster:"ResultList_poster__1mrMC","search-container":"ResultList_search-container__2VdZ6","search-list":"ResultList_search-list__TCVmE","info-container":"ResultList_info-container__1sFy-"}},function(e,a,t){e.exports={banner:"Banner_banner__3dFOM","banner-img":"Banner_banner-img__3L3Tb",overlay:"Banner_overlay__2cjIh",about:"Banner_about__3wbFj",loading:"Banner_loading__ANAvt"}},,function(e,a,t){e.exports={navbar:"NavBar_navbar__IsFtp","app-name":"NavBar_app-name__15RLs",icon:"NavBar_icon__2J7AE"}},function(e,a,t){e.exports={info:"MovieDetail_info__2MqdB","trailer-info":"MovieDetail_trailer-info__1SQ8b","trailer-media":"MovieDetail_trailer-media__17T3j"}},function(e,a,t){e.exports={"mov-list":"MovieList_mov-list__1ARvC",movie:"MovieList_movie__3HpAU"}},,function(e,a,t){e.exports={footer:"Search_footer__1I7Uk"}},,function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(7),c=t.n(o),i=(t(19),t(13)),l=t(2),s=t(3),m=t.n(s);var v=t(8),d=t.n(v);function u(){const[e,a]=Object(n.useState)(!1);return window.onscroll=function(){window.scrollY>100?a(!0):a(!1)},r.a.createElement("div",{id:"navBar",className:d.a.navbar,style:{backgroundColor:e&&"black"}},r.a.createElement("a",{href:"/",className:d.a["app-name"]},"Movie App"),r.a.createElement("a",{href:"/search"},r.a.createElement("svg",{className:"svg-inline--fa fa-search fa-w-16 ".concat(d.a.icon),fill:"#ccc","aria-hidden":"true","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}))))}var h=t(6),p=t.n(h);let f={};function _(e){let{movData:a}=e;var t;f=(t=a).results[Math.floor(Math.random()*t.results.length-1)];const n="https://image.tmdb.org/t/p/original".concat(f.backdrop_path);return r.a.createElement("div",{className:p.a.banner},r.a.createElement("img",{className:p.a["banner-img"],src:n,alt:"banner"}),r.a.createElement("div",{className:p.a.overlay}),r.a.createElement("div",{className:p.a.about},r.a.createElement("h2",null,f.name||f.title),r.a.createElement("button",null,"Play"),r.a.createElement("button",null,"My List"),r.a.createElement("p",null,f.overview.slice(0,100),"...")))}function E(e){const[a,t]=Object(n.useState)(null),[r,o]=Object(n.useState)({}),[c,i]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{!async function(){i(!0);try{const t=await fetch("https://api.themoviedb.org/3/movie/".concat(a&&a.id,"/videos?api_key=").concat("292c6915aed6c1ea24bb47d8b5d3ca92"," ")),n=await t.json();if(o(e(n)),!t.ok)throw new Error("Failed to fetch movie")}catch(t){console.error(t),o(null)}i(!1)}()},[a]),{inviMov:a,trailerData:r,isLoading:c,infoHandler:function(e){t(a=>a===e?null:e)}}}function g(e){return e?e.results.find(e=>"Trailer"===e.type)||e.results.find(e=>"Teaser"===e.type):null}var w=t(10),b=t.n(w);function N(e){let{poster:a,movData:t,infoPop:n}=e;return r.a.createElement("li",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(a?t.poster_path:t.backdrop_path),alt:"",onClick:()=>{n(t)}}))}var y=t(9),k=t.n(y);function S(e){let{inviMov:a,trailerData:t}=e;return r.a.createElement("div",{className:k.a.info},r.a.createElement("section",{className:k.a["trailer-info"]},r.a.createElement("h3",null,a.title||a.name),r.a.createElement("div",null,"Release Date: ",a.release_date),r.a.createElement("div",null,"Vote : ",a.vote_average),r.a.createElement("p",null,a.overview)),r.a.createElement("section",{className:k.a["trailer-media"]},t?r.a.createElement("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/".concat(t.key)}):r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(a.backdrop_path),alt:""}))))}function M(e){let{poster:a,movData:t}=e;const{inviMov:n,trailerData:o,isLoading:c,infoHandler:i}=E(g);return r.a.createElement("div",{className:b.a["mov-list"]},r.a.createElement("ul",{className:b.a.movie},t.results.map(e=>r.a.createElement(N,{infoPop:i,poster:a,key:e.id,movData:e}))),n&&r.a.createElement(S,{inviMov:n,trailerData:o}))}const D="292c6915aed6c1ea24bb47d8b5d3ca92",j={fetchTrending:"/trending/all/week?api_key=".concat(D,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(D,"&with_network=123"),fetchTopRated:"/movie/top_rated?api_key=".concat(D,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(D,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(D,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(D,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(D,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(D,"&with_genres=99"),fetchSearch:"/search/movie?api_key=".concat(D,"&language=en-US")},L=["original","trending","topRated","action","comedy","horror","romance","document"],x=Object.entries(j).slice(0,-1);var B=function(){const{movieData:e,isLoading:a}=function(e){const[a,t]=Object(n.useState)({}),[r,o]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{!async function(){console.log("fetching"),o(!0);try{const a=e.map(e=>fetch("https://api.themoviedb.org/3".concat(e[1]," "))),n=await Promise.all(a),r=await Promise.all(n.map(e=>e.json()));if(t(r),!a.ok)throw new Error("Failed to fetch movie")}catch(a){console.error(a)}o(!1)}()},[]),{movieData:a,isLoading:r}}(x),t=L.reduce((a,t,n)=>(a[t]=e[n],a),{});return a?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:m.a.upper}," ",r.a.createElement(u,null),r.a.createElement(_,{movData:t.original})),r.a.createElement("div",{className:m.a.middle},r.a.createElement("div",{className:m.a.og},r.a.createElement(M,{poster:!0,movData:t.original})),r.a.createElement("div",{className:m.a["the-others"]},r.a.createElement("div",{className:m.a["movie-section"]}," ",r.a.createElement("h2",null,"X\u1ebfp h\u1ea1ng cao"),r.a.createElement(M,{movData:t.topRated})),r.a.createElement("div",{className:m.a["movie-section"]},r.a.createElement("h2",null,"H\xe0nh \u0111\u1ed9ng"),r.a.createElement(M,{movData:t.action})),r.a.createElement("div",{className:m.a["movie-section"]},r.a.createElement("h2",null,"H\xe0i"),r.a.createElement(M,{movData:t.comedy})),r.a.createElement("div",{className:m.a["movie-section"]}," ",r.a.createElement("h2",null,"Kinh d\u1ecb"),r.a.createElement(M,{movData:t.horror})),r.a.createElement("div",{className:m.a["movie-section"]}," ",r.a.createElement("h2",null,"L\xe3ng m\u1ea1n"),r.a.createElement(M,{movData:t.romance})),r.a.createElement("div",{className:m.a["movie-section"]}," ",r.a.createElement("h2",null,"T\xe0i li\u1ec7u"),r.a.createElement(M,{movData:t.document})))))},R=t(12),C=t.n(R),A=t(4),O=t.n(A);function F(e){let{searchHandler:a}=e;const t=Object(n.useRef)();return r.a.createElement("div",null,r.a.createElement("form",{action:"",className:O.a.form},r.a.createElement("div",{className:O.a["form-input"]},r.a.createElement("input",{ref:t,type:"text"}),r.a.createElement("svg",{className:"svg-inline--fa fa-search fa-w-16 ".concat(O.a.icon),fill:"#ccc","aria-hidden":"true","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}))),r.a.createElement("div",{className:O.a["form-action"]},r.a.createElement("button",{onClick:()=>{t.current.value=""},type:"button",className:O.a.reset},"RESET"),r.a.createElement("button",{onClick:()=>{a(t.current.value)},type:"button",className:O.a.search},"SEARCH"," "))))}var H=t(5),T=t.n(H);function U(e){let{searchedData:a}=e;const{inviMov:t,trailerData:n,isLoading:o,infoHandler:c}=E(g);return r.a.createElement("div",{className:T.a["search-container"]},r.a.createElement("h2",null,"Search Result"),r.a.createElement("ul",{className:T.a["search-list"]},a.map(e=>r.a.createElement("li",null," ",e.poster_path?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path),alt:"",className:T.a.poster,onClick:()=>{c(e)}}):r.a.createElement("div",{className:T.a.poster}," ",r.a.createElement("h3",null,"Not found")," ")))),r.a.createElement("div",{className:T.a["info-container"]},t&&r.a.createElement(S,{inviMov:t,trailerData:n})))}var W=()=>{const[e,a]=Object(n.useState)({}),[t,o]=Object(n.useState)(!0);return console.log(e),r.a.createElement("div",{className:"app"},r.a.createElement(u,null),r.a.createElement(F,{searchHandler:async e=>{o(!0);try{const t=await fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("292c6915aed6c1ea24bb47d8b5d3ca92","&query=").concat(e,"&language=en-US&page=1")),n=await t.json();a(n)}catch(t){}o(!1)}}),t||r.a.createElement(U,{searchedData:e.results}),r.a.createElement("div",{className:C.a.footer}))};var P=function(){return r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",element:r.a.createElement(B,null)}),r.a.createElement(l.a,{path:"/search",element:r.a.createElement(W,null)})))};const z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,a){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/phimmoi",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="".concat("/phimmoi","/service-worker.js");z?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{const n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):I(e,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(a,e)})}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.3dc091ef.chunk.js.map